{"version":3,"sources":["webpack:///./src/views/auth/Login.vue?cbb8","webpack:///./src/views/auth/Login.vue?0896","webpack:///src/views/auth/Login.vue","webpack:///./src/views/auth/Login.vue?5f6d","webpack:///./src/views/auth/Login.vue?775d","webpack:///./node_modules/vue-recaptcha/dist/vue-recaptcha.es.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_236e9f2e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_236e9f2e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","style","min-height","$root","$data","height","attrs","id","directives","name","rawName","value","auth","expression","type","placeholder","required","domProps","on","input","$event","target","composing","$set","account","length","tabindex","click","icon","_e","password","staticStyle","text-align","ref","size","loadRecaptchaScript","sitekey","verify","onRecaptchaVerfiy","expired","onRecaptchaExpired","load","disabled","valid","submitLogin","title","_v","width","marge","model","callback","$$v","to","tag","staticRenderFns","Loginvue_type_script_lang_js_","components","VueRecaptcha","vue_recaptcha_es","data","keepLogin","mounted","location","protocol","href","window","substring","methods","$refs","invisibleRecaptcha","execute","reset","recaptchaToken","_this","$api","authLogin","$vuex","getters","getSession","then","commit","$toasted","success","$router","push","catch","errData","reason","error","console","auth_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_extends","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","defer","state","callbacks","resolve","val","len","cb","deferred","resolved","promise","createRecaptcha","notify","wait","ele","options","grecaptcha","widgetId","assertLoaded","checkRecaptchaLoad","Error","recaptcha","vueRecaptchaApiLoaded","props","String","theme","badge","Boolean","default","recaptchaScriptId","recaptchaHost","beforeMount","document","getElementById","script","createElement","src","async","head","appendChild","opts","$props","emitVerify","expired-callback","emitExpired","container","$slots","$el","children","$widgetId","$emit","response","h"],"mappings":"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","file":"js/login.44715297.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=236e9f2e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=236e9f2e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",style:({ 'min-height': _vm.$root.$data.height + 'px' }),attrs:{\"id\":\"content\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-8 offset-2 col-md-4 offset-md-4\",attrs:{\"id\":\"form\"}},[_c('form',[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.auth.account),expression:\"auth.account\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"帳號\",\"required\":\"\"},domProps:{\"value\":(_vm.auth.account)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.auth, \"account\", $event.target.value)}}}),(_vm.auth.account.length > 0)?_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-sm btn-light\",attrs:{\"type\":\"button\",\"tabindex\":\"-1\"},on:{\"click\":function($event){_vm.auth.account = ''}}},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'times-circle']}})],1)]):_vm._e()]),_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.auth.password),expression:\"auth.password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.auth.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.auth, \"password\", $event.target.value)}}}),(_vm.auth.password.length > 0)?_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-sm btn-light\",attrs:{\"type\":\"button\",\"tabindex\":\"-1\"},on:{\"click\":function($event){_vm.auth.password = ''}}},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'times-circle']}})],1)]):_vm._e()]),_c('div',{staticClass:\"form-group\",staticStyle:{\"text-align\":\"right\"}},[_c('vue-recaptcha',{ref:\"invisibleRecaptcha\",attrs:{\"size\":\"invisible\",\"loadRecaptchaScript\":true,\"sitekey\":\"6LdgzKYUAAAAAG8KH1AHc_Xjj7yVcAYXZFj7PsPH\"},on:{\"verify\":_vm.onRecaptchaVerfiy,\"expired\":_vm.onRecaptchaExpired}}),(_vm.load == false)?_c('div',[_c('div',{staticClass:\"row justify-content-around\"},[_c('div',{staticClass:\"col-2\",staticStyle:{\"text-align\":\"left\"}},[_c('input',{staticClass:\"btn-sm btn-color-2\",attrs:{\"disabled\":_vm.valid(),\"type\":\"button\",\"value\":\"登入\"},on:{\"click\":function($event){return _vm.submitLogin()}}})]),_c('div',{staticClass:\"col-8\",attrs:{\"title\":\"保持連續一周的登入狀態\"}},[_c('small',[_vm._v(\"保持登入?\")]),_vm._v(\"\\n                 \\n                \"),_c('toggle-button',{attrs:{\"width\":38,\"height\":19,\"marge\":0},model:{value:(_vm.auth.keepLogin),callback:function ($$v) {_vm.$set(_vm.auth, \"keepLogin\", $$v)},expression:\"auth.keepLogin\"}})],1)]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col align-self-end\",staticStyle:{\"text-align\":\"right\"}},[_c('router-link',{attrs:{\"to\":{ name: 'register' },\"tag\":\"small\"}},[_vm._v(\"註冊\")]),_vm._v(\"\\n                 \\n                \"),_c('small',{attrs:{\"title\":\"關我屁事\"}},[_vm._v(\"忘記密碼?\")])],1)])]):_c('div',[_c('br'),_c('center',[_c('loading',{attrs:{\"size\":80}})],1)],1)],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"content\" class=\"container\" :style=\"{ 'min-height': $root.$data.height + 'px' }\">\n    <div class=\"row\">\n      <div id=\"form\" class=\"col-8 offset-2 col-md-4 offset-md-4\">\n        <form>\n          <div class=\"input-group mb-3\">\n            <input v-model=\"auth.account\" class=\"form-control\" type=\"text\" placeholder=\"帳號\" required/>\n            <div v-if=\"auth.account.length > 0\" class=\"input-group-append\">\n              <button @click=\"auth.account = ''\" class=\"btn btn-sm btn-light\" type=\"button\" tabindex=\"-1\">\n                <font-awesome-icon :icon=\"['far', 'times-circle']\"/>\n              </button>\n            </div>\n          </div>\n          <div class=\"input-group mb-3\">\n            <input v-model=\"auth.password\" class=\"form-control\" type=\"password\" placeholder=\"密碼\" required/>\n            <div v-if=\"auth.password.length > 0\" class=\"input-group-append\">\n              <button @click=\"auth.password = ''\" class=\"btn btn-sm btn-light\" type=\"button\" tabindex=\"-1\">\n                <font-awesome-icon :icon=\"['far', 'times-circle']\"/>\n              </button>\n            </div>\n          </div>\n          <div class=\"form-group\"  style=\"text-align: right;\">\n            <vue-recaptcha\n                ref=\"invisibleRecaptcha\"\n                size=\"invisible\"\n                @verify=\"onRecaptchaVerfiy\"\n                @expired=\"onRecaptchaExpired\"\n                :loadRecaptchaScript=\"true\"\n                sitekey=\"6LdgzKYUAAAAAG8KH1AHc_Xjj7yVcAYXZFj7PsPH\"/>\n            <div v-if=\"load == false\">\n              <div class=\"row justify-content-around\">\n                <div class=\"col-2\" style=\"text-align: left;\">\n                  <input @click=\"submitLogin()\" :disabled=\"valid()\" class=\"btn-sm btn-color-2\" type=\"button\" value=\"登入\"/>\n                </div>\n                <div class=\"col-8\" title=\"保持連續一周的登入狀態\">\n                  <small>保持登入?</small>\n                  &nbsp;\n                  <toggle-button v-model=\"auth.keepLogin\" :width=\"38\" :height=\"19\" :marge=\"0\"/>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col align-self-end\" style=\"text-align: right;\">\n                  <router-link :to=\"{ name: 'register' }\" tag=\"small\">註冊</router-link>\n                  &nbsp;\n                  <small title=\"關我屁事\">忘記密碼?</small>\n                </div>\n              </div>\n            </div>\n            <div v-else>\n              <br>\n              <center><loading :size=\"80\"/></center>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport VueRecaptcha from 'vue-recaptcha';\n\nexport default {\n  name: 'login',\n  components: { VueRecaptcha },\n  data () {\n    return {\n      load: false,\n      auth: {\n        keepLogin: false,\n        account: '',\n        password: ''\n      }\n    }\n  },\n  mounted () {\n    if (process.env.NODE_ENV !== 'development' && location.protocol != 'https:') {\n      location.href = 'https:' + window.location.href.substring(window.location.protocol.length);\n    }\n  },\n  methods: {\n    valid: function () {\n      return this.auth.account === \"\" || this.auth.password === \"\";\n    },\n    submitLogin: function () {\n      this.load = true;\n      this.$refs.invisibleRecaptcha.execute();\n    },\n    onRecaptchaExpired: function () {\n      this.$refs.invisibleRecaptcha.reset();\n    },\n    onRecaptchaVerfiy: function (recaptchaToken) {\n      this.$api.authLogin(this.$vuex.getters.getSession(), recaptchaToken, this.auth).then((data) => {\n        this.$vuex.commit('login', data);\n        this.$toasted.success('登入成功');\n        this.$router.push({ name: 'list'});\n      }).catch((errData) => {\n        if (errData.reason === 'Recaptcha verify failed') {\n          this.$toasted.error('Google Recaptch 驗證失敗！')\n        } else if (errData.reason === 'Account or Password wrong') {\n          this.$toasted.error('帳號或密碼錯誤！');\n        } else if (errData.reason === 'Account not exists') {\n          this.$toasted.error('帳號不存在！');\n        } else {\n          this.$toasted.error('未知錯誤！');\n          console.error(errData);\n        }\n        this.onRecaptchaExpired();\n        this.load = false;\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n  #form {\n    padding: 20px 20px 20px 20px;\n    border-radius: .5em;\n    background-color: rgba(255, 255, 255, 0.212);\n  }\n  label.vue-js-switch {\n    margin-bottom: 0px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=236e9f2e&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=236e9f2e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"236e9f2e\",\n  null\n  \n)\n\nexport default component.exports","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar defer = function defer() {\n  var state = false; // Resolved or not\n\n  var callbacks = [];\n\n  var resolve = function resolve(val) {\n    if (state) {\n      return;\n    }\n\n    state = true;\n\n    for (var i = 0, len = callbacks.length; i < len; i++) {\n      callbacks[i](val);\n    }\n  };\n\n  var then = function then(cb) {\n    if (!state) {\n      callbacks.push(cb);\n      return;\n    }\n\n    cb();\n  };\n\n  var deferred = {\n    resolved: function resolved() {\n      return state;\n    },\n    resolve: resolve,\n    promise: {\n      then: then\n    }\n  };\n  return deferred;\n};\n\nfunction createRecaptcha() {\n  var deferred = defer();\n  return {\n    notify: function notify() {\n      deferred.resolve();\n    },\n    wait: function wait() {\n      return deferred.promise;\n    },\n    render: function render(ele, options, cb) {\n      this.wait().then(function () {\n        cb(window.grecaptcha.render(ele, options));\n      });\n    },\n    reset: function reset(widgetId) {\n      if (typeof widgetId === 'undefined') {\n        return;\n      }\n\n      this.assertLoaded();\n      this.wait().then(function () {\n        return window.grecaptcha.reset(widgetId);\n      });\n    },\n    execute: function execute(widgetId) {\n      if (typeof widgetId === 'undefined') {\n        return;\n      }\n\n      this.assertLoaded();\n      this.wait().then(function () {\n        return window.grecaptcha.execute(widgetId);\n      });\n    },\n    checkRecaptchaLoad: function checkRecaptchaLoad() {\n      if (window.hasOwnProperty('grecaptcha') && window.grecaptcha.hasOwnProperty('render')) {\n        this.notify();\n      }\n    },\n    assertLoaded: function assertLoaded() {\n      if (!deferred.resolved()) {\n        throw new Error('ReCAPTCHA has not been loaded');\n      }\n    }\n  };\n}\nvar recaptcha = createRecaptcha();\n\nif (typeof window !== 'undefined') {\n  window.vueRecaptchaApiLoaded = recaptcha.notify;\n}\n\nvar VueRecaptcha = {\n  name: 'VueRecaptcha',\n  props: {\n    sitekey: {\n      type: String,\n      required: true\n    },\n    theme: {\n      type: String\n    },\n    badge: {\n      type: String\n    },\n    type: {\n      type: String\n    },\n    size: {\n      type: String\n    },\n    tabindex: {\n      type: String\n    },\n    loadRecaptchaScript: {\n      type: Boolean,\n      \"default\": false\n    },\n    recaptchaScriptId: {\n      type: String,\n      \"default\": '__RECAPTCHA_SCRIPT'\n    },\n    recaptchaHost: {\n      type: String,\n      \"default\": 'www.google.com'\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.loadRecaptchaScript) {\n      if (!document.getElementById(this.recaptchaScriptId)) {\n        // Note: vueRecaptchaApiLoaded load callback name is per the latest documentation\n        var script = document.createElement('script');\n        script.id = this.recaptchaScriptId;\n        script.src = \"https://\" + this.recaptchaHost + \"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit\";\n        script.async = true;\n        script.defer = true;\n        document.head.appendChild(script);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    recaptcha.checkRecaptchaLoad();\n\n    var opts = _extends({}, this.$props, {\n      callback: this.emitVerify,\n      'expired-callback': this.emitExpired\n    });\n\n    var container = this.$slots[\"default\"] ? this.$el.children[0] : this.$el;\n    recaptcha.render(container, opts, function (id) {\n      _this.$widgetId = id;\n\n      _this.$emit('render', id);\n    });\n  },\n  methods: {\n    reset: function reset() {\n      recaptcha.reset(this.$widgetId);\n    },\n    execute: function execute() {\n      recaptcha.execute(this.$widgetId);\n    },\n    emitVerify: function emitVerify(response) {\n      this.$emit('verify', response);\n    },\n    emitExpired: function emitExpired() {\n      this.$emit('expired');\n    }\n  },\n  render: function render(h) {\n    return h('div', {}, this.$slots[\"default\"]);\n  }\n};\n\nexport default VueRecaptcha;\n"],"sourceRoot":""}