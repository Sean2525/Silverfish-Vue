(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{7916:function(t,e,i){"use strict";var n=i("fcfe"),a=i.n(n);a.a},"935e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",style:{"min-height":t.$root.$data.height+"px"},attrs:{id:"content"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 offset-2 col-md-4 offset-md-4",attrs:{id:"form"}},[i("b",[i("big",[t._v("為什麼需要註冊？")])],1),t._m(0),i("b",[i("big",[t._v("我的資料安全嗎？")])],1),t._m(1),i("form",[i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.auth.account,expression:"auth.account"}],staticClass:"form-control",attrs:{type:"text",placeholder:"帳號"},domProps:{value:t.auth.account},on:{input:function(e){e.target.composing||t.$set(t.auth,"account",e.target.value)}}}),t.auth.account.length>0?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button",tabindex:"-1"},on:{click:function(e){t.auth.account=""}}},[i("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1)]):t._e()]),i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.auth.password,expression:"auth.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密碼"},domProps:{value:t.auth.password},on:{input:function(e){e.target.composing||t.$set(t.auth,"password",e.target.value)}}}),t.auth.password.length>0?i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button",tabindex:"-1"},on:{click:function(e){t.auth.password=""}}},[i("font-awesome-icon",{attrs:{icon:["far","times-circle"]}})],1)]):t._e()]),i("div",{staticClass:"form-group",staticStyle:{"text-align":"right"}},[i("vue-recaptcha",{ref:"invisibleRecaptcha",attrs:{size:"invisible",loadRecaptchaScript:!0,sitekey:"6LdgzKYUAAAAAG8KH1AHc_Xjj7yVcAYXZFj7PsPH"},on:{verify:t.onRecaptchaVerfiy,expired:t.onRecaptchaExpired}}),i("div",{staticClass:"row"},[i("div",{staticClass:"col-10 offset-1"},[0==t.load?i("div",{staticStyle:{"text-align":"left"}},[i("input",{staticClass:"btn-sm btn-color-2",attrs:{disabled:t.valid(),type:"button",value:"註冊"},on:{click:function(e){return t.submitRegister()}}})]):i("div",[i("br"),i("center",[i("loading",{attrs:{size:80}})],1)],1)])])],1)])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n        壹、保持多裝置間閱讀書籤的紀錄可以同步。"),i("br"),t._v("\n        貳、針對每隻書蟲的閱讀習慣推薦相似的書籍。"),i("small",[t._v("（未來功能）")]),i("br"),i("del",[t._v("參、大家都有註冊，好像我們沒有也不行。")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n        　　每個帳號的使用過程中，我們只會紀錄該帳號的註冊時間, 上次登錄時間及閱讀紀錄。"),i("br"),t._v("\n        　　註冊時並不會收集除帳號密碼外的任何額外資料，未來規劃也只會使用閱讀紀錄來做分析使用者習慣。"),i("br"),t._v("\n        　　如果您仍然有安全上的疑慮，可以使用簡單好記的帳號密碼申請即可。"),i("br")])}],r=i("e096"),o={name:"register",components:{VueRecaptcha:r["a"]},data:function(){return{load:!1,auth:{account:"",password:""}}},mounted:function(){"https:"!=location.protocol&&(location.href="https:"+window.location.href.substring(window.location.protocol.length))},methods:{valid:function(){return""===this.auth.account||""===this.auth.password},submitRegister:function(){this.load=!0,this.$refs.invisibleRecaptcha.execute()},onRecaptchaExpired:function(){this.$refs.invisibleRecaptcha.reset()},onRecaptchaVerfiy:function(t){var e=this;this.$api.authRegister(t,this.auth).then(function(t){e.$vuex.commit("login",t),e.$toasted.success("註冊成功"),e.$router.push({name:"list"})}).catch(function(t){"Recaptcha verify failed"===t.reason?e.$toasted.error("Google Recaptch 驗證失敗！"):"account exists"===t.reason?e.$toasted.error("帳號已存在！"):(e.$toasted.error("未知錯誤！"),console.error(t)),e.onRecaptchaExpired(),e.load=!1})}}},c=o,s=(i("7916"),i("2877")),u=Object(s["a"])(c,n,a,!1,null,"a45065ee",null);e["default"]=u.exports},e096:function(t,e,i){"use strict";function n(){return n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n.apply(this,arguments)}var a=function(){var t=!1,e=[],i=function(i){if(!t){t=!0;for(var n=0,a=e.length;n<a;n++)e[n](i)}},n=function(i){t?i():e.push(i)},a={resolved:function(){return t},resolve:i,promise:{then:n}};return a};function r(){var t=a();return{notify:function(){t.resolve()},wait:function(){return t.promise},render:function(t,e,i){this.wait().then(function(){i(window.grecaptcha.render(t,e))})},reset:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(t)}))},execute:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(t)}))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&window.grecaptcha.hasOwnProperty("render")&&this.notify()},assertLoaded:function(){if(!t.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var o=r();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=o.notify);var c={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var t=document.createElement("script");t.id=this.recaptchaScriptId,t.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit",t.async=!0,t.defer=!0,document.head.appendChild(t)}},mounted:function(){var t=this;o.checkRecaptchaLoad();var e=n({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired}),i=this.$slots["default"]?this.$el.children[0]:this.$el;o.render(i,e,function(e){t.$widgetId=e,t.$emit("render",e)})},methods:{reset:function(){o.reset(this.$widgetId)},execute:function(){o.execute(this.$widgetId)},emitVerify:function(t){this.$emit("verify",t)},emitExpired:function(){this.$emit("expired")}},render:function(t){return t("div",{},this.$slots["default"])}};e["a"]=c},fcfe:function(t,e,i){}}]);
//# sourceMappingURL=register.5c6045fe.js.map